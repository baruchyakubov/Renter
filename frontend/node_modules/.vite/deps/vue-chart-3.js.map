{
  "version": 3,
  "sources": ["../../vue-chart-3/dist/index.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/core/component.builder.ts\nimport * as Chartjs from \"chart.js\";\nimport { cloneDeep, isEmpty, isEqual } from \"lodash-es\";\n\n// src/utils/format.utils.ts\nfunction pascalCase(str) {\n  return (str.match(/[a-zA-Z0-9]+/g) || []).map((w) => `${w.charAt(0).toUpperCase()}${w.slice(1)}`).join(\"\");\n}\n\n// src/core/component.builder.ts\nimport {\n  defineComponent,\n  h,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  shallowRef,\n  watch\n} from \"vue\";\nvar defineChartComponent = (chartName, chartType) => {\n  const propsDefs = {\n    chartData: { type: Object, required: true },\n    options: { type: Object, required: false },\n    chartId: { default: chartName, type: String },\n    width: { default: 400, type: Number },\n    height: { default: 400, type: Number },\n    cssClasses: { type: String, default: \"\" },\n    styles: { type: Object },\n    plugins: { type: Array, default: () => [] },\n    onLabelsUpdate: { type: Function },\n    onChartUpdate: { type: Function },\n    onChartDestroy: { type: Function },\n    onChartRender: { type: Function }\n  };\n  const componentName = pascalCase(chartName);\n  return defineComponent({\n    name: componentName,\n    props: propsDefs,\n    emits: {\n      \"labels:update\": () => true,\n      \"chart:update\": (chartInstance) => true,\n      \"chart:destroy\": () => true,\n      \"chart:render\": (chartInstance) => true\n    },\n    setup(props, { emit, expose }) {\n      const canvasRef = ref(null);\n      const canvasId = `${props.chartId}`;\n      let chartInstance = shallowRef(null);\n      watch(() => props.chartData, watchHandler, { deep: true });\n      watch(() => props.options, (newOptions) => {\n        if (chartInstance.value && newOptions) {\n          chartInstance.value.options = cloneDeep(newOptions);\n          handleChartUpdate();\n        }\n      }, { deep: true });\n      function watchHandler(newData) {\n        if (chartInstance.value) {\n          let chart = chartInstance.value;\n          if (!isEqual(newData.labels, chartInstance.value.data.labels)) {\n            chart.data.labels = newData.labels;\n            handleLabelsUpdate();\n          }\n          if (!isEqual(newData.datasets, chartInstance.value.data.datasets)) {\n            newData.datasets.forEach((dataset, index) => {\n              var _a, _b;\n              if (!isEmpty(dataset)) {\n                const oldData = cloneDeep(chart.data);\n                const oldDatasetKeys = Object.keys((_b = (_a = oldData.datasets) == null ? void 0 : _a[index]) != null ? _b : {});\n                const newDatasetKeys = Object.keys(dataset);\n                const deletionKeys = oldDatasetKeys.filter((key) => {\n                  return key !== \"_meta\" && newDatasetKeys.indexOf(key) === -1;\n                });\n                deletionKeys.forEach((deletionKey) => {\n                  if (chart.data.datasets[index]) {\n                    delete chart.data.datasets[index][deletionKey];\n                  }\n                });\n                for (const attribute in dataset) {\n                  const attrValue = cloneDeep(dataset[attribute]);\n                  let datasetItem = chart.data.datasets[index];\n                  if (!datasetItem) {\n                    chart.data.datasets[index] = {};\n                  }\n                  if (dataset.hasOwnProperty(attribute) && attrValue != null && chart) {\n                    chart.data.datasets[index][attribute] = attrValue;\n                  }\n                }\n              } else {\n                chart.data.datasets = [];\n              }\n            });\n          }\n          handleChartUpdate();\n        } else {\n          if (chartInstance.value) {\n            handleChartDestroy();\n          }\n          renderChart();\n        }\n      }\n      function renderChart() {\n        if (canvasRef.value) {\n          chartInstance.value = new Chartjs.Chart(canvasRef.value, {\n            data: cloneDeep(props.chartData),\n            type: chartType,\n            options: cloneDeep(props.options),\n            plugins: props.plugins\n          });\n          handleChartRender();\n        } else {\n          console.error(`Error on component ${componentName}, canvas cannot be rendered. Check if the render appends server-side`);\n        }\n      }\n      function handleLabelsUpdate() {\n        emit(\"labels:update\");\n        props.onLabelsUpdate && props.onLabelsUpdate();\n      }\n      function handleChartRender() {\n        if (chartInstance.value) {\n          emit(\"chart:render\", chartInstance.value);\n          props.onChartRender && props.onChartRender(chartInstance.value);\n        }\n      }\n      function handleChartUpdate() {\n        if (chartInstance.value) {\n          chartInstance.value.update();\n          emit(\"chart:update\", chartInstance.value);\n          props.onChartUpdate && props.onChartUpdate(chartInstance.value);\n        }\n      }\n      function handleChartDestroy() {\n        chartInstance.value && chartInstance.value.destroy();\n        emit(\"chart:destroy\");\n        props.onChartDestroy && props.onChartDestroy();\n      }\n      onMounted(renderChart);\n      onBeforeUnmount(() => {\n        if (chartInstance.value) {\n          chartInstance.value.destroy();\n        }\n      });\n      expose({\n        canvasRef,\n        renderChart,\n        chartInstance,\n        canvasId,\n        update: handleChartUpdate\n      });\n      return () => h(\"div\", {\n        style: __spreadProps(__spreadValues({\n          maxWidth: \"100%\"\n        }, props.styles), {\n          position: \"relative\"\n        }),\n        class: props.cssClasses\n      }, [\n        h(\"canvas\", {\n          style: {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\"\n          },\n          id: canvasId,\n          width: props.width,\n          height: props.height,\n          ref: canvasRef\n        })\n      ]);\n    }\n  });\n};\n\n// src/hooks/hooks.builder.ts\nimport { computed as computed2, ref as ref2, unref } from \"vue\";\nvar defineChartHook = (chartType) => {\n  return (params) => {\n    const CHART_REF_NAME = `${chartType}ChartRef`;\n    const _struct = {\n      [CHART_REF_NAME]: ref2()\n    };\n    const reactiveProps = computed2(() => __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, params), params.jsx && {\n      ref: _struct[CHART_REF_NAME]\n    }), !params.jsx && {\n      ref: CHART_REF_NAME\n    }), {\n      chartData: unref(params.chartData),\n      options: unref(params.options)\n    }));\n    function update() {\n      var _a;\n      const chartComponentRef = _struct[CHART_REF_NAME].value;\n      if (chartComponentRef) {\n        (_a = chartComponentRef == null ? void 0 : chartComponentRef.chartInstance.value) == null ? void 0 : _a.update();\n      } else {\n        console.warn(`No chartInstance to update (use${pascalCase(chartType)}Chart)`);\n      }\n    }\n    return {\n      [`${chartType}ChartProps`]: reactiveProps,\n      [CHART_REF_NAME]: _struct[CHART_REF_NAME],\n      update\n    };\n  };\n};\n\n// src/exports/component.exports.ts\nvar BarChart = defineChartComponent(\"bar-chart\", \"bar\");\nvar DoughnutChart = defineChartComponent(\"doughnut-chart\", \"doughnut\");\nvar LineChart = defineChartComponent(\"line-chart\", \"line\");\nvar PieChart = defineChartComponent(\"pie-chart\", \"pie\");\nvar PolarAreaChart = defineChartComponent(\"polar-chart\", \"polarArea\");\nvar RadarChart = defineChartComponent(\"radar-chart\", \"radar\");\nvar BubbleChart = defineChartComponent(\"bubble-chart\", \"bubble\");\nvar ScatterChart = defineChartComponent(\"scatter-chart\", \"scatter\");\n\n// src/exports/hooks.exports.ts\nvar useDoughnutChart = defineChartHook(\"doughnut\");\nvar useBarChart = defineChartHook(\"bar\");\nvar useLineChart = defineChartHook(\"line\");\nvar usePieChart = defineChartHook(\"pie\");\nvar usePolarAreaChart = defineChartHook(\"polarArea\");\nvar useRadarChart = defineChartHook(\"radar\");\nvar useBubbleChart = defineChartHook(\"bubble\");\nvar useScatterChart = defineChartHook(\"scatter\");\nexport {\n  BarChart,\n  BubbleChart,\n  DoughnutChart,\n  LineChart,\n  PieChart,\n  PolarAreaChart,\n  RadarChart,\n  ScatterChart,\n  defineChartComponent,\n  defineChartHook,\n  useBarChart,\n  useBubbleChart,\n  useDoughnutChart,\n  useLineChart,\n  usePieChart,\n  usePolarAreaChart,\n  useRadarChart,\n  useScatterChart\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI,YAAY,OAAO;AACvB,IAAI,aAAa,OAAO;AACxB,IAAI,oBAAoB,OAAO;AAC/B,IAAI,sBAAsB,OAAO;AACjC,IAAI,eAAe,OAAO,UAAU;AACpC,IAAI,eAAe,OAAO,UAAU;AACpC,IAAI,kBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAM,UAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAM,CAAC,IAAI,IAAI,OAAO;AAC1J,IAAI,iBAAiB,CAAC,GAAG,MAAM;AAC7B,WAAS,QAAQ,MAAM,IAAI,CAAC;AAC1B,QAAI,aAAa,KAAK,GAAG,IAAI;AAC3B,sBAAgB,GAAG,MAAM,EAAE,KAAK;AACpC,MAAI;AACF,aAAS,QAAQ,oBAAoB,CAAC,GAAG;AACvC,UAAI,aAAa,KAAK,GAAG,IAAI;AAC3B,wBAAgB,GAAG,MAAM,EAAE,KAAK;AAAA,IACpC;AACF,SAAO;AACT;AACA,IAAI,gBAAgB,CAAC,GAAG,MAAM,WAAW,GAAG,kBAAkB,CAAC,CAAC;AAOhE,SAAS,WAAW,KAAK;AACvB,UAAQ,IAAI,MAAM,eAAe,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,OAAO,CAAC,EAAE,YAAY,IAAI,EAAE,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE;AAC3G;AAYA,IAAI,uBAAuB,CAAC,WAAW,cAAc;AACnD,QAAM,YAAY;AAAA,IAChB,WAAW,EAAE,MAAM,QAAQ,UAAU,KAAK;AAAA,IAC1C,SAAS,EAAE,MAAM,QAAQ,UAAU,MAAM;AAAA,IACzC,SAAS,EAAE,SAAS,WAAW,MAAM,OAAO;AAAA,IAC5C,OAAO,EAAE,SAAS,KAAK,MAAM,OAAO;AAAA,IACpC,QAAQ,EAAE,SAAS,KAAK,MAAM,OAAO;AAAA,IACrC,YAAY,EAAE,MAAM,QAAQ,SAAS,GAAG;AAAA,IACxC,QAAQ,EAAE,MAAM,OAAO;AAAA,IACvB,SAAS,EAAE,MAAM,OAAO,SAAS,MAAM,CAAC,EAAE;AAAA,IAC1C,gBAAgB,EAAE,MAAM,SAAS;AAAA,IACjC,eAAe,EAAE,MAAM,SAAS;AAAA,IAChC,gBAAgB,EAAE,MAAM,SAAS;AAAA,IACjC,eAAe,EAAE,MAAM,SAAS;AAAA,EAClC;AACA,QAAM,gBAAgB,WAAW,SAAS;AAC1C,SAAO,gBAAgB;AAAA,IACrB,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,MACL,iBAAiB,MAAM;AAAA,MACvB,gBAAgB,CAAC,kBAAkB;AAAA,MACnC,iBAAiB,MAAM;AAAA,MACvB,gBAAgB,CAAC,kBAAkB;AAAA,IACrC;AAAA,IACA,MAAM,OAAO,EAAE,MAAM,OAAO,GAAG;AAC7B,YAAM,YAAY,IAAI,IAAI;AAC1B,YAAM,WAAW,GAAG,MAAM;AAC1B,UAAI,gBAAgB,WAAW,IAAI;AACnC,YAAM,MAAM,MAAM,WAAW,cAAc,EAAE,MAAM,KAAK,CAAC;AACzD,YAAM,MAAM,MAAM,SAAS,CAAC,eAAe;AACzC,YAAI,cAAc,SAAS,YAAY;AACrC,wBAAc,MAAM,UAAU,kBAAU,UAAU;AAClD,4BAAkB;AAAA,QACpB;AAAA,MACF,GAAG,EAAE,MAAM,KAAK,CAAC;AACjB,eAAS,aAAa,SAAS;AAC7B,YAAI,cAAc,OAAO;AACvB,cAAI,QAAQ,cAAc;AAC1B,cAAI,CAAC,gBAAQ,QAAQ,QAAQ,cAAc,MAAM,KAAK,MAAM,GAAG;AAC7D,kBAAM,KAAK,SAAS,QAAQ;AAC5B,+BAAmB;AAAA,UACrB;AACA,cAAI,CAAC,gBAAQ,QAAQ,UAAU,cAAc,MAAM,KAAK,QAAQ,GAAG;AACjE,oBAAQ,SAAS,QAAQ,CAAC,SAAS,UAAU;AAC3C,kBAAI,IAAI;AACR,kBAAI,CAAC,gBAAQ,OAAO,GAAG;AACrB,sBAAM,UAAU,kBAAU,MAAM,IAAI;AACpC,sBAAM,iBAAiB,OAAO,MAAM,MAAM,KAAK,QAAQ,aAAa,OAAO,SAAS,GAAG,WAAW,OAAO,KAAK,CAAC,CAAC;AAChH,sBAAM,iBAAiB,OAAO,KAAK,OAAO;AAC1C,sBAAM,eAAe,eAAe,OAAO,CAAC,QAAQ;AAClD,yBAAO,QAAQ,WAAW,eAAe,QAAQ,GAAG,MAAM;AAAA,gBAC5D,CAAC;AACD,6BAAa,QAAQ,CAAC,gBAAgB;AACpC,sBAAI,MAAM,KAAK,SAAS,QAAQ;AAC9B,2BAAO,MAAM,KAAK,SAAS,OAAO;AAAA,kBACpC;AAAA,gBACF,CAAC;AACD,2BAAW,aAAa,SAAS;AAC/B,wBAAM,YAAY,kBAAU,QAAQ,UAAU;AAC9C,sBAAI,cAAc,MAAM,KAAK,SAAS;AACtC,sBAAI,CAAC,aAAa;AAChB,0BAAM,KAAK,SAAS,SAAS,CAAC;AAAA,kBAChC;AACA,sBAAI,QAAQ,eAAe,SAAS,KAAK,aAAa,QAAQ,OAAO;AACnE,0BAAM,KAAK,SAAS,OAAO,aAAa;AAAA,kBAC1C;AAAA,gBACF;AAAA,cACF,OAAO;AACL,sBAAM,KAAK,WAAW,CAAC;AAAA,cACzB;AAAA,YACF,CAAC;AAAA,UACH;AACA,4BAAkB;AAAA,QACpB,OAAO;AACL,cAAI,cAAc,OAAO;AACvB,+BAAmB;AAAA,UACrB;AACA,sBAAY;AAAA,QACd;AAAA,MACF;AACA,eAAS,cAAc;AACrB,YAAI,UAAU,OAAO;AACnB,wBAAc,QAAQ,IAAY,MAAM,UAAU,OAAO;AAAA,YACvD,MAAM,kBAAU,MAAM,SAAS;AAAA,YAC/B,MAAM;AAAA,YACN,SAAS,kBAAU,MAAM,OAAO;AAAA,YAChC,SAAS,MAAM;AAAA,UACjB,CAAC;AACD,4BAAkB;AAAA,QACpB,OAAO;AACL,kBAAQ,MAAM,sBAAsB,mFAAmF;AAAA,QACzH;AAAA,MACF;AACA,eAAS,qBAAqB;AAC5B,aAAK,eAAe;AACpB,cAAM,kBAAkB,MAAM,eAAe;AAAA,MAC/C;AACA,eAAS,oBAAoB;AAC3B,YAAI,cAAc,OAAO;AACvB,eAAK,gBAAgB,cAAc,KAAK;AACxC,gBAAM,iBAAiB,MAAM,cAAc,cAAc,KAAK;AAAA,QAChE;AAAA,MACF;AACA,eAAS,oBAAoB;AAC3B,YAAI,cAAc,OAAO;AACvB,wBAAc,MAAM,OAAO;AAC3B,eAAK,gBAAgB,cAAc,KAAK;AACxC,gBAAM,iBAAiB,MAAM,cAAc,cAAc,KAAK;AAAA,QAChE;AAAA,MACF;AACA,eAAS,qBAAqB;AAC5B,sBAAc,SAAS,cAAc,MAAM,QAAQ;AACnD,aAAK,eAAe;AACpB,cAAM,kBAAkB,MAAM,eAAe;AAAA,MAC/C;AACA,gBAAU,WAAW;AACrB,sBAAgB,MAAM;AACpB,YAAI,cAAc,OAAO;AACvB,wBAAc,MAAM,QAAQ;AAAA,QAC9B;AAAA,MACF,CAAC;AACD,aAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,QAAQ;AAAA,MACV,CAAC;AACD,aAAO,MAAM,EAAE,OAAO;AAAA,QACpB,OAAO,cAAc,eAAe;AAAA,UAClC,UAAU;AAAA,QACZ,GAAG,MAAM,MAAM,GAAG;AAAA,UAChB,UAAU;AAAA,QACZ,CAAC;AAAA,QACD,OAAO,MAAM;AAAA,MACf,GAAG;AAAA,QACD,EAAE,UAAU;AAAA,UACV,OAAO;AAAA,YACL,UAAU;AAAA,YACV,WAAW;AAAA,UACb;AAAA,UACA,IAAI;AAAA,UACJ,OAAO,MAAM;AAAA,UACb,QAAQ,MAAM;AAAA,UACd,KAAK;AAAA,QACP,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA,EACF,CAAC;AACH;AAIA,IAAI,kBAAkB,CAAC,cAAc;AACnC,SAAO,CAAC,WAAW;AACjB,UAAM,iBAAiB,GAAG;AAC1B,UAAM,UAAU;AAAA,MACd,CAAC,iBAAiB,IAAK;AAAA,IACzB;AACA,UAAM,gBAAgB,SAAU,MAAM,cAAc,eAAe,eAAe,eAAe,CAAC,GAAG,MAAM,GAAG,OAAO,OAAO;AAAA,MAC1H,KAAK,QAAQ;AAAA,IACf,CAAC,GAAG,CAAC,OAAO,OAAO;AAAA,MACjB,KAAK;AAAA,IACP,CAAC,GAAG;AAAA,MACF,WAAW,MAAM,OAAO,SAAS;AAAA,MACjC,SAAS,MAAM,OAAO,OAAO;AAAA,IAC/B,CAAC,CAAC;AACF,aAAS,SAAS;AAChB,UAAI;AACJ,YAAM,oBAAoB,QAAQ,gBAAgB;AAClD,UAAI,mBAAmB;AACrB,SAAC,KAAK,qBAAqB,OAAO,SAAS,kBAAkB,cAAc,UAAU,OAAO,SAAS,GAAG,OAAO;AAAA,MACjH,OAAO;AACL,gBAAQ,KAAK,kCAAkC,WAAW,SAAS,SAAS;AAAA,MAC9E;AAAA,IACF;AACA,WAAO;AAAA,MACL,CAAC,GAAG,wBAAwB;AAAA,MAC5B,CAAC,iBAAiB,QAAQ;AAAA,MAC1B;AAAA,IACF;AAAA,EACF;AACF;AAGA,IAAI,WAAW,qBAAqB,aAAa,KAAK;AACtD,IAAI,gBAAgB,qBAAqB,kBAAkB,UAAU;AACrE,IAAI,YAAY,qBAAqB,cAAc,MAAM;AACzD,IAAI,WAAW,qBAAqB,aAAa,KAAK;AACtD,IAAI,iBAAiB,qBAAqB,eAAe,WAAW;AACpE,IAAI,aAAa,qBAAqB,eAAe,OAAO;AAC5D,IAAI,cAAc,qBAAqB,gBAAgB,QAAQ;AAC/D,IAAI,eAAe,qBAAqB,iBAAiB,SAAS;AAGlE,IAAI,mBAAmB,gBAAgB,UAAU;AACjD,IAAI,cAAc,gBAAgB,KAAK;AACvC,IAAI,eAAe,gBAAgB,MAAM;AACzC,IAAI,cAAc,gBAAgB,KAAK;AACvC,IAAI,oBAAoB,gBAAgB,WAAW;AACnD,IAAI,gBAAgB,gBAAgB,OAAO;AAC3C,IAAI,iBAAiB,gBAAgB,QAAQ;AAC7C,IAAI,kBAAkB,gBAAgB,SAAS;",
  "names": []
}
