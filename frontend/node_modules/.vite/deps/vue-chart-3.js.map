{
  "version": 3,
  "sources": ["../../vue-chart-3/dist/index.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\r\nvar __spreadValues = (a, b) => {\r\n  for (var prop in b || (b = {}))\r\n    if (__hasOwnProp.call(b, prop))\r\n      __defNormalProp(a, prop, b[prop]);\r\n  if (__getOwnPropSymbols)\r\n    for (var prop of __getOwnPropSymbols(b)) {\r\n      if (__propIsEnum.call(b, prop))\r\n        __defNormalProp(a, prop, b[prop]);\r\n    }\r\n  return a;\r\n};\r\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\r\n\r\n// src/core/component.builder.ts\r\nimport * as Chartjs from \"chart.js\";\r\nimport { cloneDeep, isEmpty, isEqual } from \"lodash-es\";\r\n\r\n// src/utils/format.utils.ts\r\nfunction pascalCase(str) {\r\n  return (str.match(/[a-zA-Z0-9]+/g) || []).map((w) => `${w.charAt(0).toUpperCase()}${w.slice(1)}`).join(\"\");\r\n}\r\n\r\n// src/core/component.builder.ts\r\nimport {\r\n  defineComponent,\r\n  h,\r\n  onBeforeUnmount,\r\n  onMounted,\r\n  ref,\r\n  shallowRef,\r\n  watch\r\n} from \"vue\";\r\nvar defineChartComponent = (chartName, chartType) => {\r\n  const propsDefs = {\r\n    chartData: { type: Object, required: true },\r\n    options: { type: Object, required: false },\r\n    chartId: { default: chartName, type: String },\r\n    width: { default: 400, type: Number },\r\n    height: { default: 400, type: Number },\r\n    cssClasses: { type: String, default: \"\" },\r\n    styles: { type: Object },\r\n    plugins: { type: Array, default: () => [] },\r\n    onLabelsUpdate: { type: Function },\r\n    onChartUpdate: { type: Function },\r\n    onChartDestroy: { type: Function },\r\n    onChartRender: { type: Function }\r\n  };\r\n  const componentName = pascalCase(chartName);\r\n  return defineComponent({\r\n    name: componentName,\r\n    props: propsDefs,\r\n    emits: {\r\n      \"labels:update\": () => true,\r\n      \"chart:update\": (chartInstance) => true,\r\n      \"chart:destroy\": () => true,\r\n      \"chart:render\": (chartInstance) => true\r\n    },\r\n    setup(props, { emit, expose }) {\r\n      const canvasRef = ref(null);\r\n      const canvasId = `${props.chartId}`;\r\n      let chartInstance = shallowRef(null);\r\n      watch(() => props.chartData, watchHandler, { deep: true });\r\n      watch(() => props.options, (newOptions) => {\r\n        if (chartInstance.value && newOptions) {\r\n          chartInstance.value.options = cloneDeep(newOptions);\r\n          handleChartUpdate();\r\n        }\r\n      }, { deep: true });\r\n      function watchHandler(newData) {\r\n        if (chartInstance.value) {\r\n          let chart = chartInstance.value;\r\n          if (!isEqual(newData.labels, chartInstance.value.data.labels)) {\r\n            chart.data.labels = newData.labels;\r\n            handleLabelsUpdate();\r\n          }\r\n          if (!isEqual(newData.datasets, chartInstance.value.data.datasets)) {\r\n            newData.datasets.forEach((dataset, index) => {\r\n              var _a, _b;\r\n              if (!isEmpty(dataset)) {\r\n                const oldData = cloneDeep(chart.data);\r\n                const oldDatasetKeys = Object.keys((_b = (_a = oldData.datasets) == null ? void 0 : _a[index]) != null ? _b : {});\r\n                const newDatasetKeys = Object.keys(dataset);\r\n                const deletionKeys = oldDatasetKeys.filter((key) => {\r\n                  return key !== \"_meta\" && newDatasetKeys.indexOf(key) === -1;\r\n                });\r\n                deletionKeys.forEach((deletionKey) => {\r\n                  if (chart.data.datasets[index]) {\r\n                    delete chart.data.datasets[index][deletionKey];\r\n                  }\r\n                });\r\n                for (const attribute in dataset) {\r\n                  const attrValue = cloneDeep(dataset[attribute]);\r\n                  let datasetItem = chart.data.datasets[index];\r\n                  if (!datasetItem) {\r\n                    chart.data.datasets[index] = {};\r\n                  }\r\n                  if (dataset.hasOwnProperty(attribute) && attrValue != null && chart) {\r\n                    chart.data.datasets[index][attribute] = attrValue;\r\n                  }\r\n                }\r\n              } else {\r\n                chart.data.datasets = [];\r\n              }\r\n            });\r\n          }\r\n          handleChartUpdate();\r\n        } else {\r\n          if (chartInstance.value) {\r\n            handleChartDestroy();\r\n          }\r\n          renderChart();\r\n        }\r\n      }\r\n      function renderChart() {\r\n        if (canvasRef.value) {\r\n          chartInstance.value = new Chartjs.Chart(canvasRef.value, {\r\n            data: cloneDeep(props.chartData),\r\n            type: chartType,\r\n            options: cloneDeep(props.options),\r\n            plugins: props.plugins\r\n          });\r\n          handleChartRender();\r\n        } else {\r\n          console.error(`Error on component ${componentName}, canvas cannot be rendered. Check if the render appends server-side`);\r\n        }\r\n      }\r\n      function handleLabelsUpdate() {\r\n        emit(\"labels:update\");\r\n        props.onLabelsUpdate && props.onLabelsUpdate();\r\n      }\r\n      function handleChartRender() {\r\n        if (chartInstance.value) {\r\n          emit(\"chart:render\", chartInstance.value);\r\n          props.onChartRender && props.onChartRender(chartInstance.value);\r\n        }\r\n      }\r\n      function handleChartUpdate() {\r\n        if (chartInstance.value) {\r\n          chartInstance.value.update();\r\n          emit(\"chart:update\", chartInstance.value);\r\n          props.onChartUpdate && props.onChartUpdate(chartInstance.value);\r\n        }\r\n      }\r\n      function handleChartDestroy() {\r\n        chartInstance.value && chartInstance.value.destroy();\r\n        emit(\"chart:destroy\");\r\n        props.onChartDestroy && props.onChartDestroy();\r\n      }\r\n      onMounted(renderChart);\r\n      onBeforeUnmount(() => {\r\n        if (chartInstance.value) {\r\n          chartInstance.value.destroy();\r\n        }\r\n      });\r\n      expose({\r\n        canvasRef,\r\n        renderChart,\r\n        chartInstance,\r\n        canvasId,\r\n        update: handleChartUpdate\r\n      });\r\n      return () => h(\"div\", {\r\n        style: __spreadProps(__spreadValues({\r\n          maxWidth: \"100%\"\r\n        }, props.styles), {\r\n          position: \"relative\"\r\n        }),\r\n        class: props.cssClasses\r\n      }, [\r\n        h(\"canvas\", {\r\n          style: {\r\n            maxWidth: \"100%\",\r\n            maxHeight: \"100%\"\r\n          },\r\n          id: canvasId,\r\n          width: props.width,\r\n          height: props.height,\r\n          ref: canvasRef\r\n        })\r\n      ]);\r\n    }\r\n  });\r\n};\r\n\r\n// src/hooks/hooks.builder.ts\r\nimport { computed as computed2, ref as ref2, unref } from \"vue\";\r\nvar defineChartHook = (chartType) => {\r\n  return (params) => {\r\n    const CHART_REF_NAME = `${chartType}ChartRef`;\r\n    const _struct = {\r\n      [CHART_REF_NAME]: ref2()\r\n    };\r\n    const reactiveProps = computed2(() => __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, params), params.jsx && {\r\n      ref: _struct[CHART_REF_NAME]\r\n    }), !params.jsx && {\r\n      ref: CHART_REF_NAME\r\n    }), {\r\n      chartData: unref(params.chartData),\r\n      options: unref(params.options)\r\n    }));\r\n    function update() {\r\n      var _a;\r\n      const chartComponentRef = _struct[CHART_REF_NAME].value;\r\n      if (chartComponentRef) {\r\n        (_a = chartComponentRef == null ? void 0 : chartComponentRef.chartInstance.value) == null ? void 0 : _a.update();\r\n      } else {\r\n        console.warn(`No chartInstance to update (use${pascalCase(chartType)}Chart)`);\r\n      }\r\n    }\r\n    return {\r\n      [`${chartType}ChartProps`]: reactiveProps,\r\n      [CHART_REF_NAME]: _struct[CHART_REF_NAME],\r\n      update\r\n    };\r\n  };\r\n};\r\n\r\n// src/exports/component.exports.ts\r\nvar BarChart = defineChartComponent(\"bar-chart\", \"bar\");\r\nvar DoughnutChart = defineChartComponent(\"doughnut-chart\", \"doughnut\");\r\nvar LineChart = defineChartComponent(\"line-chart\", \"line\");\r\nvar PieChart = defineChartComponent(\"pie-chart\", \"pie\");\r\nvar PolarAreaChart = defineChartComponent(\"polar-chart\", \"polarArea\");\r\nvar RadarChart = defineChartComponent(\"radar-chart\", \"radar\");\r\nvar BubbleChart = defineChartComponent(\"bubble-chart\", \"bubble\");\r\nvar ScatterChart = defineChartComponent(\"scatter-chart\", \"scatter\");\r\n\r\n// src/exports/hooks.exports.ts\r\nvar useDoughnutChart = defineChartHook(\"doughnut\");\r\nvar useBarChart = defineChartHook(\"bar\");\r\nvar useLineChart = defineChartHook(\"line\");\r\nvar usePieChart = defineChartHook(\"pie\");\r\nvar usePolarAreaChart = defineChartHook(\"polarArea\");\r\nvar useRadarChart = defineChartHook(\"radar\");\r\nvar useBubbleChart = defineChartHook(\"bubble\");\r\nvar useScatterChart = defineChartHook(\"scatter\");\r\nexport {\r\n  BarChart,\r\n  BubbleChart,\r\n  DoughnutChart,\r\n  LineChart,\r\n  PieChart,\r\n  PolarAreaChart,\r\n  RadarChart,\r\n  ScatterChart,\r\n  defineChartComponent,\r\n  defineChartHook,\r\n  useBarChart,\r\n  useBubbleChart,\r\n  useDoughnutChart,\r\n  useLineChart,\r\n  usePieChart,\r\n  usePolarAreaChart,\r\n  useRadarChart,\r\n  useScatterChart\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
